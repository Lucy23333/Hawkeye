<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>身份验证 | HAWKEYE</title>
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root { --bg: #050505; --accent: #00f3ff; --text: #e0f7fa; }
        body { margin: 0; background: var(--bg); color: var(--text); font-family: 'Fira Code', monospace; height: 100vh; display: flex; justify-content: center; align-items: center; overflow: hidden; background-image: radial-gradient(#1a2639 1px, transparent 1px); background-size: 40px 40px; }
        .login-card { width: 320px; padding: 40px; background: rgba(10, 15, 20, 0.85); border: 1px solid rgba(0, 243, 255, 0.3); border-radius: 12px; backdrop-filter: blur(10px); box-shadow: 0 0 30px rgba(0, 243, 255, 0.1); text-align: center; position: relative; }
        .login-card::before { content: ''; position: absolute; top: -1px; left: 20%; right: 20%; height: 1px; background: linear-gradient(90deg, transparent, var(--accent), transparent); }
        h1 { margin: 0 0 10px 0; font-size: 32px; letter-spacing: 4px; color: #fff; text-shadow: 0 0 10px var(--accent); }
        p { font-size: 12px; color: #8899ac; margin-bottom: 30px; letter-spacing: 1px; text-transform: uppercase; }
        .input-group { margin-bottom: 20px; text-align: left; }
        label { display: block; font-size: 10px; color: var(--accent); margin-bottom: 5px; opacity: 0.8; }
        input { width: 100%; padding: 12px; background: rgba(0,0,0,0.5); border: 1px solid #333; border-radius: 4px; color: #fff; font-family: 'Fira Code'; font-size: 14px; outline: none; transition: 0.3s; box-sizing: border-box; }
        input:focus { border-color: var(--accent); box-shadow: 0 0 10px rgba(0, 243, 255, 0.2); }
        button { width: 100%; padding: 14px; background: var(--accent); color: #000; border: none; border-radius: 4px; font-weight: bold; font-size: 16px; cursor: pointer; transition: 0.3s; letter-spacing: 2px; margin-top: 10px; }
        button:hover { background: #fff; box-shadow: 0 0 20px var(--accent); }
        .error { color: #ff2a6d; font-size: 12px; margin-top: 15px; display: none; animation: shake 0.3s; }
        @keyframes shake { 0%, 100% { transform: translateX(0); } 25% { transform: translateX(-5px); } 75% { transform: translateX(5px); } }
    </style>
</head>
<body>
    <div class="login-card">
        <h1>HAWKEYE</h1>
        <p>Security Clearance Required</p>
        <form onsubmit="event.preventDefault(); login()">
            <div class="input-group">
                <label>OPERATOR ID</label>
                <input id="u" type="text" autocomplete="off" placeholder="admin">
            </div>
            <div class="input-group">
                <label>PASSCODE</label>
                <input id="p" type="password" placeholder="••••••">
            </div>
            <button id="btn">INITIALIZE</button>
            <div id="err" class="error">ACCESS DENIED</div>
        </form>
    </div>
    <script>
        function login() {
            const btn = document.getElementById('btn');
            const u = document.getElementById('u').value;
            const p = document.getElementById('p').value;
            const err = document.getElementById('err');
            
            btn.innerText = "VERIFYING..."; 
            btn.style.opacity = "0.7";
            
            fetch('/login', { 
                method: 'POST', 
                body: JSON.stringify({username: u, password: p}) 
            }).then(r => {
                if (r.ok) { 
                    btn.innerText = "GRANTED"; 
                    btn.style.background = "#00ff88"; 
                    setTimeout(() => location.href = '/app', 500); 
                } else { 
                    throw new Error(); 
                }
            }).catch(() => {
                btn.innerText = "INITIALIZE"; 
                btn.style.opacity = "1"; 
                btn.style.background = "#ff2a6d";
                setTimeout(() => btn.style.background = "#00f3ff", 1000);
                err.style.display = "block";
            });
        }
    </script>
</body>
</html>